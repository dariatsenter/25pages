<script  src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="https://parsleyjs.org/dist/parsley.js"></script>
<div class="col-md-2 center_div text-center mt-5 mt-5 bg-white rounded py-3">
		<h2>{{username}}</h2>
		<form method="POST" id="changeForm" data-parsley-validate="true">
			<!-- <input type="password" placeholder="enter old password" data-parsley-trigger="keyup" id="password" name="password" > -->
			<div class="form-group">
				<input type="password" placeholder="enter new password" data-parsley-validation-threshold="2" data-parsley-length="[6, 100]" data-parsley-trigger="keyup" id="newpassword" name="newpassword" class="form-control text-center">
			</div>
			<div class="form-group">
			    <input type="password" placeholder="verify new password" data-parsley-validation-threshold="2" data-parsley-equalto="#newpassword" data-parsley-trigger="keyup" name="password-verify" id="password-verify" class="form-control text-center">
			</div>
			<div class="form-group">
				<button type="submit" class="btn btn-primary btn-block login">Save changes</button>
			</div>
		</form>
</div>

<script type="text/javascript">
  $(document).ready(function(){
    $('changeForm').parsley();
  });
</script>
<script>
$(document).ready(function () {
$('#changeForm').parsley().subscribe('parsley:field:error', function () {
	var errorList = document.getElementsByClassName("parsley-errors-list");
	for (var i = 0; i < errorList.length; i++) {
		if (errorList[i].childElementCount == 0){
			errorList[i].style.display = "none";
		}else{
			errorList[i].style.display = "block";
		}
	}
});
$('#changeForm').parsley().subscribe('parsley:field:success', function () {
var errorList = document.getElementsByClassName("parsley-errors-list");
	for (var i = 0; i < errorList.length; i++) {
		if (errorList[i].childElementCount == 0){
			errorList[i].style.display = "none";
		}else{
			errorList[i].style.display = "block";
		}
	}
});
});
</script>